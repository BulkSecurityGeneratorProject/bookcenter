# 《数据库原理与设计》大作业

学生姓名：林庆华

学号：201707352013001

年级：2017春

专业：计算机科学与技术

层次：大专起点本科

## 概述

为更好掌握数据库相关知识，通过项目实践深入了解数据库原理。

### 项目背景

为购书中心设计信息管理系统。

### 编写目的

通过项目实践深入了解数据库原理。

### 软件定义

购书中心内部管理系统，对进销存进行管理。

### 开发环境

操作系统：macOS High Sierra Version 10.13.4

数据库：SQL Server 2017 in Docker 18.03.0-ce-mac60(23751)

开发工具：Java SDK 1.8.0_152

## 需求分析

* 购书中心信息，包括购书中心编码，名称，总经理，运营费用。

* 购书中心内有多个部门，每个部门有部门号、部门主管姓名、地址，电话及每个月的部门运营费用。

* 每个部门有多个员工，每个员工有员工号、姓名、年龄、性别，职位及月工资。

* 每个部门销售不同类型的书籍，书籍有编号、书名、规格，采购成本和零售价格、批发价格。

* 书籍采购自出版商，出版商有编码，名称，联系电话，联系地址。

* 所有的书籍存在商场购书中心或仓库中。

* 购书中心有多个仓库，仓库有仓库号，仓库管理者姓名、电话及仓库的运营成本。

### 功能

* 购书中心信息管理

* 部门信息管理

* 员工信息管理

* 书籍信息管理

* 书籍分类管理

* 出版商信息管理

* 仓库信息管理

* 采购订单管理

* 销售订单管理

* 库存管理

### ER模型图

![](../../../BookCenter.png)

## 数据库逻辑设计

### 关系表

* 购书中心

        编号、名称、地址、经理的员工编号
   
* 部门

        编号、名称、地址、购书中心编号、经理的员工编号
    
* 员工
    
        编号、姓名、年龄、性别、职位、工资、购书中心编号、部门编号
    
* 书籍

        编号、书名、规格、成本价、零售价、批发价、出版商编号、分类编号
    
* 书籍分类
    
        编号、分类名称、销售部门编号
    
* 出版商

        编号、名称、电话、地址

* 仓库

        编号、名称、电话、仓管员员工编号

* 库存项目

        编号、仓库编号、书籍编号、数量

* 采购订单

        编号、时间、供应商、金额、仓库编号、采购员员工编号

* 销售订单

        编号、时间、客户、金额、仓库编号、销售员员工编号

* 订单项目

        编号、采购订单编号、销售订单编号、书籍编号、单价、数量

### 关系描述

### 索引、主关键字

所有表的主关键字是"编号"

## 软件功能设计

### 功能图

![](./target/SoftwareFunction.png)

### 任务

* 操作
    * 采购
        生成采购订单，同时更新库存
    * 销售
        生成销售订单，同时更新库存
    * 盘点
        查看当前库存情况，必要时进行更新
* 报表
    * 利润报表
        按照年份和月份生成利润报表
    * 工资报表
        按照年份和月份生成工资报表
    * 销售报表
        选择要查询的部门，按照月份生成该部门销售的书籍及数量报表
    * 库存报表
        选择要查询的仓库，按照月份生成该仓库库存的书籍及数量报表
    * 开销报表
        按照部门、购书中心和月份生成开销报表
* 数据
    * 对所有基础数据进行查询、插入、更新及删除

## 界面设计及操作说明

### 主页

![](./HomePage.png)

### 导航栏

![](./NavigationBar.png)

顶部导航栏可直达各种功能。

### 操作菜单

![](./OperationDropDown.png)

包括三种常用功能：采购、销售、盘点。

#### 采购单列表

![](./PurchaseOrderList.png)

分页列出采购订单。

点击"创建新采购单"按钮可开始创建采购单。

点击属性旁边的三角形图标可按照相关属性排序。

点击"采购员"姓名可查看该员工资料。

点击"仓库"名可查看该仓库资料。

每条订单数据右侧分别有"查看"、"修改"和"删除"按钮。

#### 采购单详情

![](./PurchaseOrderDetails.png)

详细列出包括订单项目信息的采购单信息。

点击"采购员"姓名可查看该员工资料。

点击"仓库"名可查看该仓库资料。

点击"订单项目"中的"书籍"名可查看该"书籍"资料。

下方有"返回"及"编辑"按钮。

#### 新建采购单

![](./PurchaseOrderDialog.png)

按照要求输入采购单信息。

点击"增加订单项目"按钮可增加订单项目。

右下角分别是"取消"及"保存"按钮。

#### 销售单列表

![](./SalesOrderList.png)

分页列出销售订单。

点击"创建新销售单"按钮可开始创建销售单。

点击属性旁边的三角形图标可按照相关属性排序。

点击"销售员"姓名可查看该员工资料。

点击"仓库"名可查看该仓库资料。

每条订单数据右侧分别有"查看"、"修改"和"删除"按钮。

#### 销售单详情

![](./SalesOrderDetails.png)

详细列出包括订单项目信息的销售单信息。

点击"销售员"姓名可查看该员工资料。

点击"仓库"名可查看该仓库资料。

点击"订单项目"中的"书籍"名可查看该"书籍"资料。

下方有"返回"及"编辑"按钮。

#### 新建销售单

![](./SalesOrderDialog.png)

按照要求输入销售单信息。

点击"增加订单项目"按钮可增加订单项目。

右下角分别是"取消"及"保存"按钮。

#### 库存项目列表

![](./StockList.png)

分页列出库存项目。

点击"创建新库存项目"按钮可开始创建库存项目。

点击属性旁边的三角形图标可按照相关属性排序。

点击"书籍"名可查看该"书籍"资料。

点击"仓库"名可查看该仓库资料。

每条订单数据右侧分别有"查看"、"修改"和"删除"按钮。

#### 库存项目详情

![](./StockDetails.png)

详细列出库存项目信息。

点击"书籍"名可查看该"书籍"资料。

点击"仓库"名可查看该仓库资料。

下方有"返回"及"编辑"按钮。

#### 新建库存项目

![](./StockDialog.png)

按照要求输入库存项目信息。

右下角分别是"取消"及"保存"按钮。

### 报表菜单

![](./ReportDropDown.png)

#### 利润报表

![](./ProfitReport.png)

按照年份和月份生成利润报表。

#### 工资报表

![](./SalaryReport.png)

按照年份和月份生成工资报表。

#### 销售报表

![](./SalesReportDepartment.png)

点击"部门名称"选择要查询的部门。

![](./SalesReport.png)

按照月份生成该部门销售的书籍及数量报表

#### 库存报表

![](./StockReportWarehouse.png)

点击"仓库"名选择要查询的仓库。

![](./StockReport.png)

按照月份生成该仓库库存的书籍及数量报表

#### 开销报表

![](./ExpenseReport.png)

按照部门、购书中心和月份生成开销报表

### 数据菜单

![](./DataDropDown.png)

对所有基础数据进行查询、插入、更新及删除。

## 结束语

经过购书中心管理系统的项目实践，更好地掌握了关系型数据库的设计与使用。其中最重要的是从业务中梳理出各个对象，把业务中的抽象概念形成实体。因此在设计是面向对象的思维必不可少。另外在设计过程中必须明确各种一对一、一对多、或多对一的关系，还有各关系的唯一性以及是否可空。

本系统还有很多不够完善的地方，包括用户权限的控制，报表的细致程度还不够，人机交互还比较生硬，这些都是日后改进的方向。

## 参考文献

无
